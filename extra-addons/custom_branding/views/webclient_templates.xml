<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Override Login Page -->
    <template id="login_custom_branding" inherit_id="web.login" name="Custom Branding Login">
        <!-- Add custom CSS with configured colors directly in the template body -->
        <xpath expr="//form" position="before">
            <style>
                :root {
                    --custom-primary-color: <t t-esc="request.env['ir.config_parameter'].sudo().get_param('custom_branding.primary_color', '#1E88E5')"/>;
                    --custom-secondary-color: <t t-esc="request.env['ir.config_parameter'].sudo().get_param('custom_branding.secondary_color', '#424242')"/>;
                    --custom-background-color: <t t-esc="request.env['ir.config_parameter'].sudo().get_param('custom_branding.background_color', '#F5F5F5')"/>;
                    --custom-text-color: <t t-esc="request.env['ir.config_parameter'].sudo().get_param('custom_branding.text_color', '#333333')"/>;
                }

                body {
                    background-color: var(--custom-background-color) !important;
                }

                .btn-primary {
                    background-color: var(--custom-primary-color) !important;
                    border-color: var(--custom-primary-color) !important;
                }

                .btn-primary:hover {
                    opacity: 0.9;
                }

                a {
                    color: var(--custom-primary-color) !important;
                }

                .text-primary {
                    color: var(--custom-primary-color) !important;
                }

                /* Reemplazar logo de Odoo con logo personalizado */
                .o_database_list img[alt="Logo"],
                .card img[alt="Logo"] {
                    content: url('/custom_branding/logo');
                    max-height: 80px !important;
                    max-width: 200px !important;
                    width: auto !important;
                }

                /* Ocultar "Powered by Odoo" y referencias */
                .o_login_powered_by,
                .o_footer_powered_by,
                a[href*="odoo.com"] {
                    display: none !important;
                }
            </style>
        </xpath>
    </template>

    <!-- Override Database Selector -->
    <template id="database_selector_custom_branding" inherit_id="web.database_selector" name="Custom Branding DB Selector">
        <!-- Add custom CSS -->
        <xpath expr="//div[contains(@class, 'o_database_list')]" position="before">
            <style>
                :root {
                    --custom-primary-color: <t t-esc="request.env['ir.config_parameter'].sudo().get_param('custom_branding.primary_color', '#1E88E5')"/>;
                    --custom-background-color: <t t-esc="request.env['ir.config_parameter'].sudo().get_param('custom_branding.background_color', '#F5F5F5')"/>;
                }

                body {
                    background-color: var(--custom-background-color) !important;
                }

                .btn-primary {
                    background-color: var(--custom-primary-color) !important;
                    border-color: var(--custom-primary-color) !important;
                }

                .list-group-item.active {
                    background-color: var(--custom-primary-color) !important;
                    border-color: var(--custom-primary-color) !important;
                }

                /* Reemplazar logo de Odoo con logo personalizado */
                .o_database_list img[alt="Logo"],
                .card img[alt="Logo"],
                img[alt="Logo"] {
                    content: url('/custom_branding/logo');
                    max-height: 80px !important;
                    max-width: 200px !important;
                    width: auto !important;
                }

                /* Ocultar referencias a Odoo */
                a[href*="odoo.com"] {
                    display: none !important;
                }
            </style>
        </xpath>
    </template>

    <!-- Override Database Manager -->
    <template id="database_manager_custom_branding" inherit_id="web.database_manager" name="Custom Branding DB Manager">
        <!-- Add custom CSS -->
        <xpath expr="//form" position="before">
            <style>
                :root {
                    --custom-primary-color: <t t-esc="request.env['ir.config_parameter'].sudo().get_param('custom_branding.primary_color', '#1E88E5')"/>;
                    --custom-background-color: <t t-esc="request.env['ir.config_parameter'].sudo().get_param('custom_branding.background_color', '#F5F5F5')"/>;
                }

                body {
                    background-color: var(--custom-background-color) !important;
                }

                .btn-primary {
                    background-color: var(--custom-primary-color) !important;
                    border-color: var(--custom-primary-color) !important;
                }

                /* Reemplazar logo de Odoo con logo personalizado */
                .o_database_list img[alt="Logo"],
                .card img[alt="Logo"],
                img[alt="Logo"] {
                    content: url('/custom_branding/logo');
                    max-height: 80px !important;
                    max-width: 200px !important;
                    width: auto !important;
                }

                /* Ocultar referencias a Odoo */
                a[href*="odoo.com"] {
                    display: none !important;
                }
            </style>
        </xpath>
    </template>
</odoo>
