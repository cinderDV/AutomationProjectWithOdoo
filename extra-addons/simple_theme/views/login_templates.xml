<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="login_custom" inherit_id="web.login_layout">
        <t t-set="primary" t-value="request.env['ir.config_parameter'].sudo().get_param('simple_theme.primary', '#1E40AF')"/>
        <t t-set="secondary" t-value="request.env['ir.config_parameter'].sudo().get_param('simple_theme.secondary', '#10B981')"/>
        <t t-set="bg" t-value="request.env['ir.config_parameter'].sudo().get_param('simple_theme.login_bg', False)"/>

        <!-- Fondo -->
        <xpath expr="//body" position="attributes">
            <attribute name="t-att-style">
                'background: ' + (('url(data:image/jpeg;base64,' + bg + ') center/cover fixed, ') if bg else '') + 'linear-gradient(135deg, ' + primary + ' 0%, ' + secondary + ' 100%);'
            </attribute>
        </xpath>

        <!-- BotÃ³n de login -->
        <xpath expr="//button[@type='submit']" position="attributes">
            <attribute name="t-att-style">'background-color: ' + primary + ' !important; border: none; border-radius: 8px; padding: 12px;'</attribute>
        </xpath>
    </template>
</odoo>
